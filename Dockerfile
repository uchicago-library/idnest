FROM bnbalsamo/flask_stack
ENV APP_NAME=idnest
ARG SECRET_KEY=passThisAtBuildTime
ARG STORAGE_BACKEND
ARG MONGO_HOST
ARG MONGO_PORT="27017"
ARG MONGO_DB
ARG REDIS_HOST
ARG REDIS_PORT="6379"
ARG REDIS_DB
ARG VERBOSITY="WARN"
ENV \
    IDNEST_STORAGE_BACKEND=${STORAGE_BACKEND} \
    IDNEST_SECRET_KEY=${SECRET_KEY} \
    IDNEST_MONGO_HOST=${MONGO_HOST} \
    IDNEST_MONGO_PORT=${MONGO_PORT} \ 
    IDNEST_MONBO_DB=${MONGO_DB} \
    IDNEST_REDIS_HOST=${REDIS_HOST} \
    IDNEST_REDIS_PORT=${REDIS_PORT} \
    IDNEST_REDIS_DB=${REDIS_DB} \
    IDNEST_VERBOSITY=${VERBOSITY} \
